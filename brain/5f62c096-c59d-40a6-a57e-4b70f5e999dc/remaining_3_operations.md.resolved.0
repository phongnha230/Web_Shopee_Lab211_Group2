# ğŸš€ HÆ°á»›ng Dáº«n 3 Operations CÃ²n Láº¡i - Postman

## âœ… Báº¡n Ä‘Ã£ lÃ m xong: POST Create News (201 Created)

![POST Success](C:/Users/HPPAVILION/.gemini/antigravity/brain/5f62c096-c59d-40a6-a57e-4b70f5e999dc/uploaded_image_1765467290225.png)

**Response báº¡n nháº­n Ä‘Æ°á»£c:**
```json
{
  "id": 1,
  "title": "Test News",
  "content": "This is test content",
  "status": "published",
  "created_by": 1,
  "image_url": null,
  "created_at": "2025-12-11T15:30:47.045Z",
  "updated_at": "2025-12-11T15:30:47.046Z",
  "is_pinned": false
}
```

---

## 1ï¸âƒ£ GET - Láº¥y News Vá»«a Táº¡o

### CÃ¡ch 1: GET Single News by ID

**Setup trong Postman:**

1. **Táº¡o request má»›i** hoáº·c duplicate request POST
2. **Äá»•i method** tá»« `POST` â†’ `GET`
3. **URL:** `http://localhost:5000/api/news/1`
   - Sá»‘ `1` lÃ  `id` cá»§a news báº¡n vá»«a táº¡o
4. **Headers:** 
   - âŒ **XÃ“A** `Content-Type: application/json`
   - âŒ **XÃ“A** `Authorization` (khÃ´ng cáº§n auth cho GET)
5. **Body:** 
   - Chá»n **none** (GET khÃ´ng cáº§n body)
6. **Click Send**

**Expected Response (200 OK):**
```json
{
  "id": 1,
  "title": "Test News",
  "content": "This is test content",
  "status": "published",
  "created_by": 1,
  "image_url": null,
  "created_at": "2025-12-11T15:30:47.045Z",
  "updated_at": "2025-12-11T15:30:47.046Z",
  "is_pinned": false,
  "author": {
    "id": 1,
    "username": "admin",
    "email": "admin@example.com"
  }
}
```

### CÃ¡ch 2: GET All News

**Setup trong Postman:**

1. **Method:** `GET`
2. **URL:** `http://localhost:5000/api/news`
3. **Headers:** KhÃ´ng cáº§n
4. **Body:** none
5. **Click Send**

**Expected Response (200 OK):**
```json
{
  "data": [
    {
      "id": 1,
      "title": "Test News",
      "content": "This is test content",
      "status": "published",
      "created_by": 1,
      "image_url": null,
      "created_at": "2025-12-11T15:30:47.045Z",
      "updated_at": "2025-12-11T15:30:47.046Z",
      "is_pinned": false,
      "author": {
        "id": 1,
        "username": "admin",
        "email": "admin@example.com"
      }
    }
  ],
  "pagination": {
    "total": 1,
    "page": 1,
    "totalPages": 1
  }
}
```

---

## 2ï¸âƒ£ PUT - Update News

**Setup trong Postman:**

1. **Táº¡o request má»›i** hoáº·c duplicate request POST
2. **Äá»•i method** tá»« `POST` â†’ `PUT`
3. **URL:** `http://localhost:5000/api/news/1`
   - ThÃªm `/1` vÃ o cuá»‘i (ID cá»§a news cáº§n update)
4. **Headers:** 
   - âœ… `Content-Type: application/json`
   - âœ… `Authorization: Bearer YOUR_TOKEN` (cáº§n auth)
5. **Body:** Chá»n **raw** â†’ **JSON**
   ```json
   {
     "title": "Updated Test News",
     "content": "This content has been updated!",
     "status": "published"
   }
   ```
6. **Click Send**

**Expected Response (200 OK):**
```json
{
  "id": 1,
  "title": "Updated Test News",
  "content": "This content has been updated!",
  "status": "published",
  "created_by": 1,
  "image_url": null,
  "created_at": "2025-12-11T15:30:47.045Z",
  "updated_at": "2025-12-11T15:35:00.000Z",  // â† Thá»i gian updated má»›i
  "is_pinned": false
}
```

### ğŸ’¡ Tips cho PUT:

**Update chá»‰ status:**
```json
{
  "title": "Updated Test News",
  "content": "This content has been updated!",
  "status": "archived"
}
```

**Update chá»‰ title:**
```json
{
  "title": "New Title Only",
  "content": "This content has been updated!",
  "status": "published"
}
```

---

## 3ï¸âƒ£ DELETE - XÃ³a News

**Setup trong Postman:**

1. **Táº¡o request má»›i** hoáº·c duplicate request POST
2. **Äá»•i method** tá»« `POST` â†’ [DELETE](file:///c:/Users/HPPAVILION/Documents/Cusor/Cafe_app/my-app/Frontend/src/constants/apiEndpoints.js#65-66)
3. **URL:** `http://localhost:5000/api/news/1`
   - ThÃªm `/1` vÃ o cuá»‘i (ID cá»§a news cáº§n xÃ³a)
4. **Headers:** 
   - âŒ **XÃ“A** `Content-Type: application/json`
   - âœ… **GIá»®** `Authorization: Bearer YOUR_TOKEN` (cáº§n auth)
5. **Body:** Chá»n **none** (DELETE khÃ´ng cáº§n body)
6. **Click Send**

**Expected Response (200 OK):**
```json
{
  "message": "News deleted successfully"
}
```

### âœ… Verify Ä‘Ã£ xÃ³a:

Sau khi DELETE, test láº¡i GET:

**GET:** `http://localhost:5000/api/news/1`

**Expected Response (404 Not Found):**
```json
{
  "message": "News not found"
}
```

---

## ğŸ“‹ TÃ³m Táº¯t Nhanh

| Operation | Method | URL | Auth? | Body? |
|-----------|--------|-----|-------|-------|
| âœ… Create | POST | `/api/news` | âœ… Yes | âœ… Yes |
| 1ï¸âƒ£ Get Single | GET | `/api/news/1` | âŒ No | âŒ No |
| 1ï¸âƒ£ Get All | GET | `/api/news` | âŒ No | âŒ No |
| 2ï¸âƒ£ Update | PUT | `/api/news/1` | âœ… Yes | âœ… Yes |
| 3ï¸âƒ£ Delete | DELETE | `/api/news/1` | âœ… Yes | âŒ No |

---

## ğŸ¯ Thá»© Tá»± Test NÃªn LÃ m

```
1. POST Create News (âœ… ÄÃ£ lÃ m)
   â†“
2. GET All News â†’ Tháº¥y 1 news
   â†“
3. GET Single News (ID=1) â†’ Tháº¥y chi tiáº¿t
   â†“
4. PUT Update News (ID=1) â†’ Title/content thay Ä‘á»•i
   â†“
5. GET Single News (ID=1) â†’ Tháº¥y data Ä‘Ã£ update
   â†“
6. DELETE News (ID=1) â†’ XÃ³a thÃ nh cÃ´ng
   â†“
7. GET All News â†’ Tháº¥y empty array
```

---

## ğŸ”‘ LÆ°u Ã Quan Trá»ng

### Authorization Header

Báº¡n cáº§n dÃ¹ng **cÃ¹ng token** tá»« lÃºc login cho:
- âœ… POST Create
- âœ… PUT Update
- âœ… DELETE

**Format:**
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzkyNDQwMCwiZXhwIjoxNzMzOTI4MDAwfQ.abc123...
```

### Content-Type Header

- âœ… **Cáº¦N** cho: POST, PUT (khi gá»­i JSON)
- âŒ **KHÃ”NG Cáº¦N** cho: GET, DELETE

---

## ğŸ› Troubleshooting

### Lá»—i 401 Unauthorized (PUT/DELETE)
```json
{ "message": "No token provided" }
```
**Fix:** ThÃªm `Authorization: Bearer YOUR_TOKEN` vÃ o Headers

### Lá»—i 404 Not Found
```json
{ "message": "News not found" }
```
**Fix:** 
- Kiá»ƒm tra ID cÃ³ Ä‘Ãºng khÃ´ng
- CÃ³ thá»ƒ news Ä‘Ã£ bá»‹ xÃ³a rá»“i
- GET all news Ä‘á»ƒ xem ID nÃ o cÃ²n tá»“n táº¡i

### Lá»—i 403 Forbidden
```json
{ "message": "Not authorized to update this news" }
```
**Fix:** 
- Chá»‰ admin hoáº·c ngÆ°á»i táº¡o má»›i update/delete Ä‘Æ°á»£c
- Login báº±ng account admin

---

## âœ… Checklist

LÃ m theo thá»© tá»± nÃ y:

- [x] **POST** Create News â†’ 201 Created (ÄÃ£ lÃ m âœ…)
- [ ] **GET** All News â†’ 200 OK, tháº¥y 1 news
- [ ] **GET** Single News (ID=1) â†’ 200 OK, tháº¥y chi tiáº¿t
- [ ] **PUT** Update News (ID=1) â†’ 200 OK, title thay Ä‘á»•i
- [ ] **GET** Single News (ID=1) láº§n ná»¯a â†’ 200 OK, tháº¥y data má»›i
- [ ] **DELETE** News (ID=1) â†’ 200 OK, message success
- [ ] **GET** All News láº§n ná»¯a â†’ 200 OK, empty array

---

**ChÃºc báº¡n test thÃ nh cÃ´ng! ğŸš€**

Náº¿u cÃ³ lá»—i gÃ¬, chá»¥p mÃ n hÃ¬nh vÃ  bÃ¡o tÃ´i nhÃ©!
